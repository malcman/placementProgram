var t=require("rematrix"),e=function(t){return"number"==typeof t},i=function(t){return Array.prototype.slice.apply(t)};function n(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];return e.forEach(function(e){if(e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}),t}var r,o={noWobble:{stiffness:200,damping:26},gentle:{stiffness:120,damping:14},veryGentle:{stiffness:130,damping:17},wobbly:{stiffness:180,damping:12},stiff:{stiffness:260,damping:26}},a=function(t,e,i){var n=t(e).map(function(t){return t.dataset.flipId});return i.filter(function(t){return n.indexOf(t)>-1})},s="[data-flip-id]:not([data-is-appearing])";"undefined"!=typeof window&&(r=window.requestAnimationFrame);var l=r=r||function(t){window.setTimeout(t,1e3/60)},p=Date.now(),c="object"==typeof performance&&"function"==typeof performance.now?function(){return performance.now()}:function(){return Date.now()-p};function f(t,e){var i=t.indexOf(e);-1!==i&&t.splice(i,1)}var d=function(){};d.prototype.run=function(){var t=this;l(function(){t.springSystem.loop(c())})};var u=function(){this.position=0,this.velocity=0},h=function t(e){this._id="s"+t._ID++,this._springSystem=e,this.listeners=[],this._startValue=0,this._currentState=new u,this._displacementFromRestThreshold=.001,this._endValue=0,this._overshootClampingEnabled=!1,this._previousState=new u,this._restSpeedThreshold=.001,this._tempState=new u,this._timeAccumulator=0,this._wasAtRest=!0};h.prototype.getId=function(){return this._id},h.prototype.destroy=function(){this.listeners=[],this._springSystem.deregisterSpring(this)},h.prototype.setSpringConfig=function(t){return this._springConfig=t,this},h.prototype.getCurrentValue=function(){return this._currentState.position},h.prototype.getDisplacementDistanceForState=function(t){return Math.abs(this._endValue-t.position)},h.prototype.setEndValue=function(t){if(this._endValue===t&&this.isAtRest())return this;this._startValue=this.getCurrentValue(),this._endValue=t,this._springSystem.activateSpring(this.getId());for(var e=0,i=this.listeners.length;e<i;e++){var n=this.listeners[e].onSpringEndStateChange;n&&n(this)}return this},h.prototype.setVelocity=function(t){return t===this._currentState.velocity?this:(this._currentState.velocity=t,this._springSystem.activateSpring(this.getId()),this)},h.prototype.setOvershootClampingEnabled=function(t){return this._overshootClampingEnabled=t,this},h.prototype.isOvershooting=function(){var t=this._startValue,e=this._endValue;return this._springConfig.tension>0&&(t<e&&this.getCurrentValue()>e||t>e&&this.getCurrentValue()<e)},h.prototype.advance=function(t,e){var i=this.isAtRest();if(!i||!this._wasAtRest){var n=e;e>h.MAX_DELTA_TIME_SEC&&(n=h.MAX_DELTA_TIME_SEC),this._timeAccumulator+=n;for(var r,o,a,s,l,p,c=this._springConfig.tension,f=this._springConfig.friction,d=this._currentState.position,u=this._currentState.velocity,g=this._tempState.position,m=this._tempState.velocity;this._timeAccumulator>=h.SOLVER_TIMESTEP_SEC;)this._timeAccumulator-=h.SOLVER_TIMESTEP_SEC,this._timeAccumulator<h.SOLVER_TIMESTEP_SEC&&(this._previousState.position=d,this._previousState.velocity=u),o=c*(this._endValue-g)-f*u,s=c*(this._endValue-(g=d+(r=u)*h.SOLVER_TIMESTEP_SEC*.5))-f*(m=u+o*h.SOLVER_TIMESTEP_SEC*.5),p=c*(this._endValue-(g=d+(a=m)*h.SOLVER_TIMESTEP_SEC*.5))-f*(m=u+s*h.SOLVER_TIMESTEP_SEC*.5),g=d+(l=m)*h.SOLVER_TIMESTEP_SEC,d+=1/6*(r+2*(a+l)+(m=u+p*h.SOLVER_TIMESTEP_SEC))*h.SOLVER_TIMESTEP_SEC,u+=1/6*(o+2*(s+p)+(c*(this._endValue-g)-f*m))*h.SOLVER_TIMESTEP_SEC;this._tempState.position=g,this._tempState.velocity=m,this._currentState.position=d,this._currentState.velocity=u,this._timeAccumulator>0&&this._interpolate(this._timeAccumulator/h.SOLVER_TIMESTEP_SEC),(this.isAtRest()||this._overshootClampingEnabled&&this.isOvershooting())&&(this._springConfig.tension>0?(this._startValue=this._endValue,this._currentState.position=this._endValue):(this._endValue=this._currentState.position,this._startValue=this._endValue),this.setVelocity(0),i=!0);var v=!1;this._wasAtRest&&(this._wasAtRest=!1,v=!0);var y=!1;i&&(this._wasAtRest=!0,y=!0),this.notifyPositionUpdated(v,y)}},h.prototype.notifyPositionUpdated=function(t,e){for(var i=0,n=this.listeners.length;i<n;i++){var r=this.listeners[i];t&&r.onSpringActivate&&r.onSpringActivate(this),r.onSpringUpdate&&r.onSpringUpdate(this),e&&r.onSpringAtRest&&r.onSpringAtRest(this)}},h.prototype.systemShouldAdvance=function(){return!this.isAtRest()||!this.wasAtRest()},h.prototype.wasAtRest=function(){return this._wasAtRest},h.prototype.isAtRest=function(){return Math.abs(this._currentState.velocity)<this._restSpeedThreshold&&(this.getDisplacementDistanceForState(this._currentState)<=this._displacementFromRestThreshold||0===this._springConfig.tension)},h.prototype._interpolate=function(t){this._currentState.position=this._currentState.position*t+this._previousState.position*(1-t),this._currentState.velocity=this._currentState.velocity*t+this._previousState.velocity*(1-t)},h.prototype.addListener=function(t){return this.listeners.push(t),this},h.prototype.removeListener=function(t){return f(this.listeners,t),this},h._ID=0,h.MAX_DELTA_TIME_SEC=.064,h.SOLVER_TIMESTEP_SEC=.001;var g=function(t){this.looper=t||new d,this.looper.springSystem=this,this.listeners=[],this._activeSprings=[],this._idleSpringIndices=[],this._isIdle=!0,this._lastTimeMillis=-1,this._springRegistry={}};g.prototype.createSpring=function(t,e){return this.createSpringWithConfig({tension:t,friction:e})},g.prototype.createSpringWithConfig=function(t){var e=new h(this);return this.registerSpring(e),e.setSpringConfig(t),e},g.prototype.getIsIdle=function(){return this._isIdle},g.prototype.registerSpring=function(t){this._springRegistry[t.getId()]=t},g.prototype.deregisterSpring=function(t){f(this._activeSprings,t),delete this._springRegistry[t.getId()]},g.prototype.advance=function(t,e){for(var i=this;this._idleSpringIndices.length>0;)this._idleSpringIndices.pop();for(this._activeSprings.filter(Boolean).forEach(function(n){n.systemShouldAdvance()?n.advance(t/1e3,e/1e3):i._idleSpringIndices.push(i._activeSprings.indexOf(n))});this._idleSpringIndices.length>0;){var n=this._idleSpringIndices.pop();n>=0&&this._activeSprings.splice(n,1)}},g.prototype.loop=function(t){var e;-1===this._lastTimeMillis&&(this._lastTimeMillis=t-1);var i=t-this._lastTimeMillis;this._lastTimeMillis=t;var n=0,r=this.listeners.length;for(n=0;n<r;n++)(e=this.listeners[n]).onBeforeIntegrate&&e.onBeforeIntegrate(this);for(this.advance(t,i),0===this._activeSprings.length&&(this._isIdle=!0,this._lastTimeMillis=-1),n=0;n<r;n++)(e=this.listeners[n]).onAfterIntegrate&&e.onAfterIntegrate(this);this._isIdle||this.looper.run()},g.prototype.activateSpring=function(t){var e=this._springRegistry[t];-1===this._activeSprings.indexOf(e)&&this._activeSprings.push(e),this.getIsIdle()&&(this._isIdle=!1,this.looper.run())};var m=new g,v=function(t){var e=t.springConfig,i=e.overshootClamping,n=t.onSpringActivate,r=t.getOnUpdateFunc,o=t.onAnimationEnd;if(t.noOp)return null;var a=m.createSpring(e.stiffness,e.damping);return a.setOvershootClampingEnabled(!!i),a.addListener({onSpringActivate:n,onSpringUpdate:r(a.destroy.bind(a)),onSpringAtRest:function(){a.destroy(),o()}}),a},y=function(t){t&&t.forEach(function(t){!function(t){var e=v(t);e?e.setEndValue(1):t.onSpringActivate()}(t),y(t.immediateChildren)})},S=function(t){return[0,1,4,5,12,13].map(function(e){return t[e]})},E=function(t){return t.top<window.innerHeight&&t.bottom>0&&t.left<window.innerWidth&&t.right>0},_=function(t,e,i){return t+(e-t)*i},C=function(t,e){var i;return n(t,((i={})[e[0]]=e[1],i))},I=function(t,e){return i(e?document.querySelectorAll('[data-portal-key="'+e+'"]'):t.querySelectorAll("[data-flip-id]"))},A=function(t){this.applyTransformOrigin=!0,this.retainTransform=!1,n(this,t),this.inProgressAnimations={},this.flipCallbacks={},this.recordBeforeUpdate=this.recordBeforeUpdate.bind(this),this.onUpdate=this.onUpdate.bind(this),this.addFlipped=this.addFlipped.bind(this),this.addInverted=this.addInverted.bind(this)};A.prototype.recordBeforeUpdate=function(){this.snapshot=function(t){var e=t.element,r=t.flipCallbacks;void 0===r&&(r={});var o=t.inProgressAnimations;void 0===o&&(o={});var a=I(e,t.portalKey),s=i(e.querySelectorAll("[data-inverse-flip-id]")),l={},p=[],c={};a.filter(function(t){return r&&r[t.dataset.flipId]&&r[t.dataset.flipId].onExit}).forEach(function(t){var e=t.parentNode;if(t.closest){var i=t.closest("[data-exit-container]");i&&(e=i)}var n=p.findIndex(function(t){return t[0]===e});-1===n&&(p.push([e,e.getBoundingClientRect()]),n=p.length-1),l[t.dataset.flipId]=p[n][1],c[t.dataset.flipId]=e});var f=a.map(function(t){var e={},i=t.getBoundingClientRect();if(r&&r[t.dataset.flipId]&&r[t.dataset.flipId].onExit){var o=l[t.dataset.flipId];n(e,{element:t,parent:c[t.dataset.flipId],childPosition:{top:i.top-o.top,left:i.left-o.left,width:i.width,height:i.height}})}return[t.dataset.flipId,{rect:i,opacity:parseFloat(window.getComputedStyle(t).opacity||"1"),domDataForExitAnimations:e}]}).reduce(C,{});return function(t){Object.keys(t).forEach(function(e){t[e].stop&&t[e].stop(),delete t[e]})}(o),a.concat(s).forEach(function(t){t.style.transform="",t.style.opacity=""}),{flippedElementPositions:f,cachedOrderedFlipIds:a.map(function(t){return t.dataset.flipId})}}({element:this.element,flipCallbacks:this.flipCallbacks,inProgressAnimations:this.inProgressAnimations})},A.prototype.onUpdate=function(r,l){this.snapshot&&(function(r){var l=r.cachedOrderedFlipIds;void 0===l&&(l=[]);var p=r.inProgressAnimations;void 0===p&&(p={});var c=r.flippedElementPositionsBeforeUpdate;void 0===c&&(c={});var f=r.flipCallbacks;void 0===f&&(f={});var d=r.containerEl,u=r.applyTransformOrigin,h=r.spring,g=r.debug,m=r.portalKey,A=r.staggerConfig;void 0===A&&(A={});var O=r.decisionData;void 0===O&&(O={});var b=r.handleEnterUpdateDelete,w=r.retainTransform,T=r.onComplete,x=function(t){return I(t.element,t.portalKey).map(function(t){var e=window.getComputedStyle(t),i=t.getBoundingClientRect();return[t.dataset.flipId,{rect:i,opacity:parseFloat(e.opacity),transform:e.transform}]}).reduce(C,{})}({element:d,portalKey:m}),V=function(t){var e=t.containerEl,n=t.portalKey;return n?function(t){return function(e){return i(document.querySelectorAll('[data-portal-key="'+t+'"]'+e))}}(n):e?function(t){var e=Math.random().toFixed(5);return t.dataset.flipperId=e,function(n){return i(t.querySelectorAll('[data-flipper-id="'+e+'"] '+n))}}(e):function(){return[]}}({containerEl:d,portalKey:m}),M=function(t){return function(e){return t('[data-flip-id="'+e+'"]')[0]}}(V),P=function(t){return c[t]&&x[t]},R=Object.keys(c).concat(Object.keys(x)).filter(function(t){return!P(t)}),D={flipCallbacks:f,getElement:M,flippedElementPositionsBeforeUpdate:c,flippedElementPositionsAfterUpdate:x,inProgressAnimations:p},F=function(t){var e=t.unflippedIds,i=t.flipCallbacks,n=t.getElement,r=t.flippedElementPositionsBeforeUpdate,o=t.flippedElementPositionsAfterUpdate,a=t.inProgressAnimations,s=e.filter(function(t){return o[t]}),l=s.filter(function(t){return i[t]&&i[t].onAppear}),p=e.filter(function(t){return r[t]&&i[t]&&i[t].onExit});s.forEach(function(t){var e=n(t);e&&(e.dataset.isAppearing="true")});var c,f=new Promise(function(t){c=t}),d=[],u=0,h=p.map(function(t,e){var n=r[t].domDataForExitAnimations,o=n.element,s=n.parent,l=n.childPosition,p=l.top,f=l.left,h=l.width,g=l.height;"static"===getComputedStyle(s).position&&(s.style.position="relative"),o.style.transform="matrix(1, 0, 0, 1, 0, 0)",o.style.position="absolute",o.style.top=p+"px",o.style.left=f+"px",o.style.height=g+"px",o.style.width=h+"px";var m=d.filter(function(t){return t[0]===s})[0];m||(m=[s,document.createDocumentFragment()],d.push(m)),m[1].appendChild(o),u+=1;var v=function(){try{s.removeChild(o)}catch(t){}finally{0==(u-=1)&&c()}};return a[t]={stop:v},function(){return i[t].onExit(o,e,v)}});return d.forEach(function(t){t[0].appendChild(t[1])}),h.length||c(),{hideEnteringElements:function(){l.forEach(function(t){var e=n(t);e&&(e.style.opacity="0")})},animateEnteringElements:function(){l.forEach(function(t,e){var r=n(t);r&&i[t].onAppear(r,e)})},animateExitingElements:function(){return h.forEach(function(t){return t()}),f}}}(n({},D,{unflippedIds:R})),U=F.hideEnteringElements,k=F.animateEnteringElements,L=F.animateExitingElements,j=function(r){var l=r.flippedIds,p=r.flipCallbacks,c=r.inProgressAnimations,f=r.flippedElementPositionsBeforeUpdate,d=r.flippedElementPositionsAfterUpdate,u=r.applyTransformOrigin,h=r.spring,g=r.getElement,m=r.debug,C=r.staggerConfig,I=r.decisionData;void 0===I&&(I={});var A,O,b=r.scopedSelector,w=r.retainTransform,T=r.onComplete,x=new Promise(function(t){A=t});if(T&&x.then(T),!l.length)return function(){return A([]),x};var V=[],M=g(l[0]),P=M?M.ownerDocument.querySelector("body"):document.querySelector("body");m&&console.error('[react-flip-toolkit]\nThe "debug" prop is set to true. All FLIP animations will return at the beginning of the transition.');var R,D=(R=l.reduce(function(t,e){return t[e]=(t[e]||0)+1,t},{}),Object.keys(R).filter(function(t){return R[t]>1}));D.length&&console.error("[react-flip-toolkit]\nThere are currently multiple elements with the same flipId on the page.\nThe animation will only work if each Flipped component has a unique flipId.\nDuplicate flipId"+(D.length>1?"s":"")+": "+D.join("\n"));var F=l.map(function(r){var a=f[r].rect,s=d[r].rect,l=f[r].opacity,m=d[r].opacity,v=s.width<1||s.height<1;if(!E(a)&&!E(s))return!1;if(0===a.width&&0===s.width||0===a.height&&0===s.height)return!1;var y=g(r);if(!y)return!1;var C=JSON.parse(y.dataset.flipConfig),b=function(t){void 0===t&&(t={});var e=t.flippedSpring,i=function(t){return"[object Object]"===Object.prototype.toString.call(t)?t:Object.keys(o).indexOf(t)>-1?o[t]:{}};return n({},o.noWobble,i(t.flipperSpring),i(e))}({flipperSpring:h,flippedSpring:C.spring}),T=!0===C.stagger?"default":C.stagger,x={element:y,id:r,stagger:T,springConfig:b,noOp:!0};if(p[r]&&p[r].shouldFlip&&!p[r].shouldFlip(I.prev,I.current))return x;var M=Math.abs(a.left-s.left)+Math.abs(a.top-s.top),R=Math.abs(a.width-s.width)+Math.abs(a.height-s.height),D=Math.abs(m-l);if(M<.5&&R<.5&&D<.01)return x;x.noOp=!1;var F=t.parse(d[r].transform),U={matrix:F},k={matrix:[]},L=[F];C.translate&&(L.push(t.translateX(a.left-s.left)),L.push(t.translateY(a.top-s.top))),C.scale&&(L.push(t.scaleX(Math.max(a.width,1)/Math.max(s.width,1))),L.push(t.scaleY(Math.max(a.height,1)/Math.max(s.height,1)))),C.opacity&&(k.opacity=l,U.opacity=m);var j=[];if(!p[r]||!p[r].shouldInvert||p[r].shouldInvert(I.prev,I.current)){var B=function(t,e){return i(t.querySelectorAll('[data-inverse-flip-id="'+e+'"]'))}(y,r);j=B.map(function(t){return[t,JSON.parse(t.dataset.flipConfig)]})}k.matrix=S(L.reduce(t.multiply)),U.matrix=S(U.matrix);var q,X=function(t){var i=t.element,n=t.invertedChildren,r=t.body,o=t.retainTransform;return function(t){var a=t.matrix,s=t.opacity,l=t.forceMinVals;if(e(s)&&(i.style.opacity=s+""),l&&(i.style.minHeight="1px",i.style.minWidth="1px"),a){var p=function(t){return"matrix("+t.join(", ")+")"}(a);o&&"matrix(1, 0, 0, 1, 0, 0)"===p&&(p="matrix(1, 0.00001, -0.00001, 1, 0, 0)"),i.style.transform=p,n&&function(t){var e=t.matrix,i=t.body;t.invertedChildren.forEach(function(t){var n=t[0],r=t[1];if(i.contains(n)){var o=e[0],a=e[3],s=e[5],l={translateX:0,translateY:0,scaleX:1,scaleY:1},p="";r.translate&&(l.translateX=-e[4]/o,l.translateY=-s/a,p+="translate("+l.translateX+"px, "+l.translateY+"px)"),r.scale&&(l.scaleX=1/o,l.scaleY=1/a,p+=" scale("+l.scaleX+", "+l.scaleY+")"),n.style.transform=p}})}({invertedChildren:n,matrix:a,body:r})}}}({element:y,invertedChildren:j,body:P,retainTransform:w});if(p[r]&&p[r].onComplete){var Y=p[r].onComplete;q=function(){return Y(y,I.prev,I.current)}}var W=e(k.opacity)&&e(U.opacity)&&k.opacity!==U.opacity,K=!1;return n({},x,{stagger:T,springConfig:b,getOnUpdateFunc:function(t){return c[r]={stop:t,onComplete:q},function(e){p[r]&&p[r].onSpringUpdate&&p[r].onSpringUpdate(e.getCurrentValue()),K||(K=!0,p[r]&&p[r].onStart&&p[r].onStart(y,I.prev,I.current));var i=e.getCurrentValue();if(P.contains(y)){var n={matrix:[]};n.matrix=k.matrix.map(function(t,e){return _(t,U.matrix[e],i)}),W&&(n.opacity=_(k.opacity,U.opacity,i)),X(n)}else t()}},initializeFlip:function(){X({matrix:k.matrix,opacity:W?k.opacity:void 0,forceMinVals:v}),p[r]&&p[r].onStartImmediate&&p[r].onStartImmediate(y,I.prev,I.current),C.transformOrigin?y.style.transformOrigin=C.transformOrigin:u&&(y.style.transformOrigin="0 0"),j.forEach(function(t){var e=t[0],i=t[1];i.transformOrigin?e.style.transformOrigin=i.transformOrigin:u&&(e.style.transformOrigin="0 0")})},onAnimationEnd:function(){delete c[r],"function"==typeof q&&q(),y.style.transform="",v&&y&&(y.style.minHeight="",y.style.minWidth=""),V.push(r),V.length>=O.length&&A(V)}})}).filter(function(t){return t});if((O=F.filter(function(t){return Boolean(t.initializeFlip)})).forEach(function(t){return(0,t.initializeFlip)()}),m)return function(){};var U=F.reduce(function(t,e){return t[e.id]=e,t},{}),k=function(t){var e=t.flipDataDict,n=t.flippedIds,r=t.scopedSelector,o={},l=function(t,i,p){var c=t+" "+s,f=a(r,c,n),d=p.filter(function(t){return-1===f.indexOf(t)});o[i]=d,d.forEach(function(t){e[t]&&(e[t].level=i)}),0!==f.length&&l(c,i+1,f)};return l(s,0,a(r,s,n)),Object.keys(e).forEach(function(t){var r=e[t];r.childIds=a(function(t){return i(r.element.querySelectorAll(t))},s,n),r.childIds=r.childIds.filter(function(t){return o[r.level+1]&&o[r.level+1].indexOf(t)>-1})}),o[0]}({flipDataDict:U,flippedIds:l,scopedSelector:b});return function(){return O.length||A([]),function(t){var e=t.staggerConfig,i=function(t){t&&Object.keys(t).length&&Object.keys(t).forEach(function(i){return function(t,e){if(void 0===e&&(e={}),t&&t.length){e.reverse&&t.reverse();var i,n="number"!=typeof(i=e.speed)?1.1:1+Math.min(Math.max(5*i,0),5),r=1/Math.max(Math.min(t.length,100),10),o=t.filter(function(t){return!t.noOp}).map(function(t,e){var i=t.getOnUpdateFunc;return t.getOnUpdateFunc=function(t){var a=i(t);return function(t){var i=t.getCurrentValue();i>r&&o[e+1]&&o[e+1].setEndValue(Math.min(i*n,1)),a(t)}},t}).map(function(t){return v(t)});o[0]&&o[0].setEndValue(1)}}(t[i],e[i])})},n=function(t){var e=t.flipDataDict,i=t.initiateStaggeredAnimations,n={root:{staggeredChildren:{},immediateChildren:[]}},r=function(t,n){var o=e[n];o&&(o.stagger?t.staggeredChildren[o.stagger]?t.staggeredChildren[o.stagger].push(o):t.staggeredChildren[o.stagger]=[o]:t.immediateChildren.push(o),o.onSpringActivate=function(){y(o.immediateChildren),i(o.staggeredChildren)},o.staggeredChildren={},o.immediateChildren=[],o.childIds.forEach(function(t){return r(o,t)}))};return t.topLevelChildren.forEach(function(t){r(n.root,t)}),n}({flipDataDict:t.flipDataDict,topLevelChildren:t.topLevelChildren,initiateStaggeredAnimations:i});y(n.root.immediateChildren),i(n.root.staggeredChildren)}({topLevelChildren:k,flipDataDict:U,staggerConfig:C}),x}}(n({},D,{flippedIds:l.filter(P),applyTransformOrigin:u,spring:h,debug:g,staggerConfig:A,decisionData:O,scopedSelector:V,retainTransform:w,onComplete:T}));R.filter(function(t){return x[t]}).forEach(function(t){var e=M(t);e&&e.removeAttribute("data-is-appearing")}),b?b({hideEnteringElements:U,animateEnteringElements:k,animateExitingElements:L,animateFlippedElements:j}):(U(),L().then(k),j())}({flippedElementPositionsBeforeUpdate:this.snapshot.flippedElementPositions,cachedOrderedFlipIds:this.snapshot.cachedOrderedFlipIds,containerEl:this.element,inProgressAnimations:this.inProgressAnimations,flipCallbacks:this.flipCallbacks,applyTransformOrigin:this.applyTransformOrigin,spring:this.spring,debug:this.debug,staggerConfig:this.staggerConfig,handleEnterUpdateDelete:this.handleEnterUpdateDelete,retainTransform:this.retainTransform,decisionData:{prev:r,current:l},onComplete:this.onComplete}),delete this.snapshot)},A.prototype.addFlipped=function(t){var e=t.element,i=t.flipId,r=t.opacity,o=t.translate,a=t.scale,s=t.transformOrigin,l=t.spring,p=t.stagger,c=t.onAppear,f=t.onStart,d=t.onSpringUpdate,u=t.onComplete,h=t.onExit,g=t.shouldFlip,m=t.shouldInvert;if(!e)throw new Error("no element provided");if(!i)throw new Error("No flipId provided");var v={scale:a,translate:o,opacity:r,transformOrigin:s,spring:l,stagger:p};v.scale||v.translate||v.opacity||n(v,{translate:!0,scale:!0,opacity:!0}),i&&(e.dataset.flipId=i),e.dataset.flipConfig=JSON.stringify(v),this.flipCallbacks[i]={shouldFlip:g,shouldInvert:m,onAppear:c,onStart:f,onSpringUpdate:d,onComplete:u,onExit:h}},A.prototype.addInverted=function(t){var e=t.element,i=t.parent,r=t.opacity,o=t.translate,a=t.scale,s=t.transformOrigin;if(!e)throw new Error("no element provided");if(!i)throw new Error("parent must be provided");var l=i.dataset.flipId,p={scale:a,translate:o,opacity:r,transformOrigin:s};p.scale||p.translate||p.opacity||n(p,{translate:!0,scale:!0,opacity:!0}),e.dataset.inverseFlipId=l,e.dataset.flipConfig=JSON.stringify(p)},module.exports=A;
//# sourceMappingURL=index.js.map
